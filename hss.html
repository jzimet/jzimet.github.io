<!DOCTYPE html>
<html>
<head>
<TITLE> CLoud Tool </TITLE>
<style>
</style>
</head>   
<body>   
<center>  
<h1>Hosted Security as a Service</h1>
</body>
<table>
<tr>
<td>
<img src="captain_harlock.png" align="center" width="50" height="50">
</td>
</tr>
<table>
<br>

<table>
<tr>
<td>
<label for="users" style="color: #3CBC8D">Users:</label><input type="range" min="0" max="1000" value="100" step = "5" style="width: 8em; -webkit-appearance: slider-horizontal; orient= horizontal" id="users" oninput="sliderOutputUpdateForUsers(value)"><output for="users" id="volumeforusers" style="color: #3CBC8D">20 users</output>
<br>
<label for="discount" style="color: #3CBC8D">Discount:</label><input type="range" min="0" max="100" value="20" step = "5" style="width: 8em; -webkit-appearance: slider-horizontal; orient= horizontal" id="discount" oninput="sliderOutputUpdateForDiscount(value)"><output for="discount" id="volumefordiscount" style="color: #3CBC8D">20 %</output>
<br>
<input type = "number" style="background-color:yellow;height:30px;width:50px;text-align:right;color: #3CBC8D"  id = "total" readonly>
<label for "total" style="color: #3CBC8D">$ total</label>
<br>
<input type = "number" style="background-color:yellow;height:30px;width:50px;text-align:right;color: #3CBC8D" id = "priceperuserperyear" readonly>
<label for "priceperuserperyear" style="color: #3CBC8D">$ price per user per year</label>
<br>
<input type = "number" style="background-color:yellow;height:30px;width:50px;text-align:right;color: #3CBC8D" id = "priceperuserpermonth" readonly>
<label for "priceperuserpermonth" style="color: #3CBC8D">$ price per user per month</label>
</td>
<td>
<canvas id="mycanvas1" width="150" height="150" style="border:1px dashed #CCC;">price per user per month</canvas>
</td>
<td>
<canvas id="can" width="300" height="150" style="border:1px dashed #CCC;">price per user per month</canvas>
</td>
<td>
<img src="hss-talos-pitch.png" align="center" width="200" height="100">
</td>
</tr>
</table>

<!################ vpn client
-->

<table>
<tr>
<td>
<img src="hss-anyconnect.png" align="center" width="50" height="50">
</td>
<td>
<input type = "checkbox" style="height:20px;width:20px" id = "vpn" checked="checked" onchange="calculate()">
<label for "vpn">vpn remote acesss</label>
</td>
<td>
<input type = "radio" style="height:20px;width:20px" name = "vpnclient" id="vpnclientradio" value="vpnclient" checked="checked" onchange="calculate()">
<label for "vpnclientradio">ipsec based</label>
<input type = "radio" style="height:20px;width:20px" name = "vpnclient" id="clientlessvpnradio" value="clientlessvpn" onchange="calculate()">
<label for "clientlessvpn">ssl based (clientles) </label>
</td>
<!--<td>
<label id="vpnclientlabel"></label>
</td>
-->
</tr>
<!--################ open dns
-->
<tr>
<td>
<img src="hss-opendns.png" align="center" width="50" height="50">
<img src="hss-umbrella.png" align="center" width="50" height="50">
</td>
<td>
<input type = "checkbox" style="height:20px;width:20px" id = "opendns" checked="checked" onchange="calculate()">
<label for "opendns">Cisco Umbrella open dns and Cloud Lock</label>
</td>
<td>
<input type = "radio" style="height:20px;width:20px" name = "opendns" id="opendnsforroaminguserradio" value="opendnsforroaminguser" checked="checked" onchange="calculate()">
<label for "opendnsforroaminguser">for roaming user</label>
<input type = "radio" style="height:20px;width:20px" name = "opendns" value="opendnsforbranch" onchange="calculate()">
<label for "opendnsforbranch">for branch</label>
<input type = "radio" style="height:20px;width:20px" name = "opendns" value="opendnsforwlan" onchange="calculate()">
<label for "opendnsforwlan">for wlan</label>
</td>
</tr>

<!--
<label id="opendnslabel"> 208.67.222.222 + 208.67.220.220</label>
<a href ="https://signup.umbrella.com/">Umbrella Free Trial</a>
-->

<!--################ email security
-->
<tr>
<td>
<img src="hss-emailsecurity.png" align="center" width="50" height="50">
</td>
<td>
<input type = "checkbox" style="height:20px;width:20px" id = "mailsecurity" checked="checked" onchange="calculate()">
<label for "mailsecurity">mail security</label>
</td>
<td>
<input type = "radio" style="height:20px;width:20px"  name = "mailsecurity" id = "mailsecurityessentialradio" value="mailsecurityessential" checked="checked" onchange="calculate()">
<label for "mailsecurityessential">essential</label>
<input type = "radio" style="height:20px;width:20px" name = "mailsecurity" id= "mailsecuritypremiumradio" value="mailsecuritypremium" onchange="calculate()">
<label for "mailsecuritypremium">premium</label>
</td>
</tr>
<!--
<input type = "checkbox" style="height:20px;width:20px"  id = "mailsecurityshared" checked="checked" onchange="calculate()">
<label for "mailsecurityshared">shared</label>

<label id="mailsecuritylabel"></label>
<a href ="http://www.cisco.com/c/dam/en/us/products/collateral/security/cloud-email-security/aag_c45-734182.pdf">cloud, hybrid, virtual or on-premise  mail security</a>
-->

<!--################ web security
-->
<tr>
<td>
<img src="hss-websecurity.png" align="center" width="50" height="50">
</td>
<td>
<input type = "checkbox" style="height:20px;width:20px" id = "websecurity" checked="checked" onchange="calculate()">
<label for "websecurity">web security</label>
</td>
<td>
<input type = "radio" style="height:20px;width:20px" name = "websecurity" id = "websecurityessentialradio" value="websecurityessential" checked="checked" onchange="calculate()">
<label for "websecurityessential">essential</label>
<input type = "radio" style="height:20px;width:20px" name = "websecurity" id = "websecuritypremiumradio" value="websecuritypremium" onchange="calculate()">
<label for "websecuritypremium">premium</label>
</td>
</tr>
<!--
<input type = "checkbox" style="height:20px;width:20px"  id = "websecurityshared" checked="checked" onchange="calculate()">
<label for "websecurityshared">shared</label>

<label id="websecuritylabel"></label>
<a href="https://info.sourcefire.com/ContentSecurityOfferPage.html">Try Web Security</a>
-->

<!--################ firewall
-->
<tr>
<td>
<img src="hss-firewall.png" align="center" width="50" height="50">
</td>
<td>
<input type = "checkbox" style="height:20px;width:20px" id = "firewall" checked="checked" onchange="calculate()">
<label for "firewall">firewall</label>
</td>
<td>
<input type = "radio" style="height:20px;width:20px" name = "firewall" id ="firewallsmallradio" value="firewallsmall" checked="checked" onchange="calculate()">
<label for "firewallsmall">small (100MB)</label>
<input type = "radio" style="height:20px;width:20px" name = "firewall" id="firewallmediumradio" value="firewallmedium" onchange="calculate()">
<label for "firewallmedium">medium (1GB) </label>
<input type = "radio" style="height:20px;width:20px" name = "firewall" id="firewalllargeradio" value="firewalllarge" onchange="calculate()">
<label for "firewalllarge">large (2GB)</label>
</td>
<td>
<input type = "checkbox" style="height:20px;width:20px" id = "firewallshared" checked="checked" onchange="calculate()">
<label for "firewallshared">shared</label>
</td>
<td>
<input type = "checkbox" style="height:20px;width:20px" id = "firewallspla" onchange="calculate()">
<label for "firewallspla">spla</label>
</td>
<td>
<label id="firewalllabel"></label>
</td>
</tr>

<!--################ router
-->
<tr>
<td>
<img src="hss-csr.png" align="center" width="50" height="50">
</td>
<td>
<input type = "checkbox" style="height:20px;width:20px" id = "router" checked="checked" onchange="calculate()">
<label for "router">router</label>
</td>
<td>
<input type = "radio" style="height:20px;width:20px" name = "router" id ="routeripbaseradio" value="routeripbase" checked="checked">
<label for "routeripbase">bronze</label>
<input type = "radio" style="height:20px;width:20px" name = "router" id ="routerdatacenterradio" value="routerdatacenter" onchange="calculate()">
<label for "routerdatacenter">silver</label>
<input type = "radio" style="height:20px;width:20px" name = "router" id = "routersecurityradio" value="routersecurity" onchange="calculate()">
<label for "routersecurity">gold</label>
<input type = "radio" style="height:20px;width:20px" name = "router" id="routerallradio" value="routerall" onchange="calculate()">
<label for "routerall">platinum</label>
<!--
https://www.w3schools.com/jsref/prop_select_selectedindex.asp
-->
<label> Speed:<select style="height:25px;width:70px" id="routerspeed" onchange="calculate()">
<option selected>10M</option>
<option>100M</option>
<option>1GB</option>
<option>2.5GB</option>
<option>10GB</option>
</select></label>
</td>
<td>
<input type = "checkbox" style="height:20px;width:20px" id = "routershared" checked="checked" onchange="calculate()">
<label for "routershared">shared</label>
</td>
<td>
<input type = "checkbox" style="height:20px;width:20px" id = "routerspla" onchange="calculate()">
<label for "routerspla">spla</label>
</td>
<td>
<label id="routerlabel"></label>
</td>
</tr>

<!--################ sourcefire ng firewall
-->
<tr>
<td>
<img src="hss-sourcefire.png" align="center" width="50" height="50">
</td>
<td>
<input type = "checkbox" style="height:20px;width:20px" id = "ngfirewall" onchange="calculate()">
<label for "ngfirewall">ng firewall</label>
</td>
<td>
<input type = "radio" style="height:20px;width:20px" name = "ngfirewall" id="ngfirewallradio" value="ngfwipsamp" checked="checked" onchange="calculate()">
<label for "ngfwipsamp">ips and amp</label>
</td>
<td>
<input type = "checkbox" style="height:20px;width:20px" id = "ngfirewallshared" checked="checked" onchange="calculate()">
<label for "ngfirewallshared">shared</label>
</td>
<td>
<label id="ngfirewalllabel"></label>
</td>
</tr>

<!--################ amp
-->
<tr>
<td>
<img src="hss-amp.png" align="center" width="50" height="50">
<img src="hss-talos.png" align="center" width="50" height="50">
</td>
<td>
<input type = "checkbox" style="height:20px;width:20px" id = "amp" onchange="calculate()">
<label for "router">anti malware protection</label>
</td>
<td>
<input type = "radio" style="height:20px;width:20px" name = "amp" id = "amppublicradio" value="amppublic" checked="checked" onchange="calculate()">
<label for "amppublic">public</label>
<input type = "radio" style="height:20px;width:20px" name = "amp" id = "ampprivateradio" value="ampprivate" onchange="calculate()">
<label for "ampprivate">private with internet (proxy)</label>
<input type = "radio" style="height:20px;width:20px" name = "amp" id = "ampprivateairgapradio" value="ampprivateairgap" onchange="calculate()">
<label for "ampprivateairgap">private without internet (air gap)</label>
</td>
<td>
<input type = "checkbox" style="height:20px;width:20px" id = "ampshared" checked="checked" onchange="calculate()">
<label for "ampshared">shared</label>
</td>
</tr>

<!--################ threatgrid
-->
<tr>
<td>
<img src="hss-tg.png" align="center" width="50" height="50">
<img src="hss-talos.png" align="center" width="50" height="50">
</td>
<td>
<input type = "checkbox" style="height:20px;width:20px" id = "tg" onchange="calculate()">
<label for "tg">threatgrid</label>
</td>
<td>
<input type = "radio" style="height:20px;width:20px" name = "tg" id = "tgpublicradio" value="tgpublic" checked="checked" onchange="calculate()">
<label for "tgpublic">public</label>
<input type = "radio" style="height:20px;width:20px" name = "tg" id = "tgprivateradio" value="tgprivate" onchange="calculate()">
<label for "tgprivate">private</label>
</td>
<td colspan="4">
<input type = "checkbox" style="height:20px;width:20px" id = "tgshared" checked="checked" onchange="calculate()">
<label for "tgshared">shared</label>
</td>
</tr>

<!--################ ubiqube and nso
-->
<tr>
<td>
<img src="hss-ubiqube.png" align="center" width="50" height="50">
<img src="hss-tail-f.png" align="center" width="50" height="50">
</td>
</tr>
<tr>
<td>
<img src="hss-stealthwatch.png" align="center" width="50" height="50">
<a href="http://www.cisco.com/c/en/us/products/collateral/security/stealthwatch/datasheet-c78-736512.html">StealthWatch</a>
</td>
</tr>
</table>

<!--################ ubiqube and nso
-->
<div id="tablediv">
    <input type="button" id="savedata" value="Save data"/><br/><br/>
    <table id="table" border="1">
        <tr>
            <td><input type="button" id="add" value="Add Row" onclick="insRow()"/></td>
        <td>Tenant id</td>
        <td>Number of Branch</td>
        <td>Number of employee per tennant</td>
        <td>CPE Select</td>
        </tr>
    </table>
<br>


<!--################
-->

<table>
<tr>
<td>
<img src="hss-topology.png" align="center" width="400" height="200">
</td>
<td>
<a href ="https://jzimet.github.io/hss-bom.xls"><img src="hss-mrr.png" align="center" width="400" height="200"></a>
</td>
</tr>
<tr>
<td colspan="2">
<img src="hss-services.png" align="center" width="800" height="100">
</td>
</tr>
</table>

<!--################
-->


<script>

document.getElementById("ngfirewall").checked=false;
document.getElementById("amp").checked=false;
document.getElementById("tg").checked=false;

function calculate (){

var quantity = Number(document.getElementById("users").value);
var priceperuserperyear=0;
var priceperuserpermonth=0;

if (quantity < 26) {
	var vpnclient=150/25;
	var clientlessvpn=360/25;
	var opendnsforroaminguser=12*2.33;

} else if (quantity > 25 && quantity < 51) {
        var vpnclient=300/50;
        var clientlessvpn=550/50;
	var opendnsforroaminguser=12*2.33;

} else if (quantity >50 && quantity < 101) {
        var vpnclient=500/100;
        var clientlessvpn=1000/100;
	var opendnsforroaminguser=12*2.08;

} else if (quantity > 100 && quantity < 251) {
        var vpnclient=750/250;
        var clientlessvpn=2150/250;
	var opendnsforroaminguser=12*1.63;


} else { 
        var vpnclient=1125/500;
        var clientlessvpn=3200/500;
	var opendnsforroaminguser=12*1.38;

}

if (quantity < 250) {
        var websecurityessential=34.84;
        var websecuritypremium=69.99;
        var mailsecurityessential=19.06;
        var mailsecuritypremium=31.83;
} else if (quantity > 250 && quantity < 500) {
        var websecurityessential=33.28;
        var websecuritypremium=59.06;
        var mailsecurityessential=18.79;
        var mailsecuritypremium=31.69;
} else {
        var websecurityessential=33.18;
        var websecuritypremium=52.49;
        var mailsecurityessential=18.68;
        var mailsecuritypremium=31.5;
}

if (document.getElementById("firewallspla").checked) {

	var firewallsmallspla=12*22;
	var firewallsmall=firewalsmallspla;
	var firewallmediumspla=12*193;
	var firewallmedium=firewalmediumspla;
	var firewalllargespla=12*771;
	var firewalllarge=firewalllargespla;

} else {

	var firewallsmall=3595/8;
	var firewallmedium=4794;
	var firewalllarge=19176;

}

if (document.getElementById("routerspeed").selectedIndex==0) {
	var routeripbase=265;
	var routerdatacenter=435;
	var routersecurity=485;
	var routerall=665;
} else if(document.getElementById("routerspeed").selectedIndex==1) {
        var routeripbase=1040;
        var routerdatacenter=1300;
        var routersecurity=1560;
        var routerall=1820;
} else if(document.getElementById("routerspeed").selectedIndex==2) {
        var routeripbase=3625;
        var routerdatacenter=4340;
        var routersecurity=4675;
        var routerall=5530;
} else if(document.getElementById("routerspeed").selectedIndex==3) {
        var routeripbase=4805;
        var routerdatacenter=6235;
        var routersecurity=7820;
        var routerall=8570;
} else if(document.getElementById("routerspeed").selectedIndex==4) { 
        var routeripbase=8500;
        var routerdatacenter=8500;
        var routersecurity=8500;
        var routerall=8500;
}

var ngfirewall=12000;
var ampcloud=12000+18000;
var tg=85000+52000;

var total = 0;
document.getElementById("priceperuserperyear").value = 0;
document.getElementById("priceperuserpermonth").value = 0;

var vpnclientdata=0;
var clientlessvpndata=0;
var opendnsdata=0;
var websecurityessentialdata=0;
var websecuritypremiumdata=0;
var mailsecurityessentialdata=0;
var mailsecuritypremiumdata=0;
var firewallsmalldata=0;
var firewallmediumdata=0;
var firewalllargedata=0;
var routerbronzedata=0;
var routersilverdata=0;
var routergolddata=0;
var routerplatinumdata=0;
var ngfirewalldata=0;
var amppublicdata=0;
var ampprivatedata=0;
var ampprivateairgapdata=0;
var tgpublicdata = 0;
var tgprivatedata = 0;


//################

vpnclientdata =  Number(document.getElementById("users").value) * Number(document.getElementById("vpn").checked) * vpnclient * Number(document.getElementById("vpnclientradio").checked);
console.log(vpnclientdata);

total +=  Number(document.getElementById("users").value) * Number(document.getElementById("vpn").checked) * vpnclient * Number(document.getElementById("vpnclientradio").checked);

//################

clientlessvpndata = document.getElementById("users").value * document.getElementById("vpn").checked * clientlessvpn * Number(document.getElementById("clientlessvpnradio").checked);

total += document.getElementById("users").value * document.getElementById("vpn").checked * clientlessvpn * Number(document.getElementById("clientlessvpnradio").checked);

//################

opendnsdata= document.getElementById("users").value * document.getElementById("opendns").checked * opendnsforroaminguser  * Number(document.getElementById("opendnsforroaminguserradio").checked);

total += document.getElementById("users").value * document.getElementById("opendns").checked * opendnsforroaminguser  * Number(document.getElementById("opendnsforroaminguserradio").checked);

//################

	websecurityessentialdata = document.getElementById("users").value * document.getElementById("websecurity").checked * websecurityessential * Number(document.getElementById("websecurityessentialradio").checked);
	total += document.getElementById("users").value * document.getElementById("websecurity").checked * websecurityessential * Number(document.getElementById("websecurityessentialradio").checked);

	websecuritypremiumdata = document.getElementById("users").value * document.getElementById("websecurity").checked * websecuritypremium * Number(document.getElementById("websecuritypremiumradio").checked);

	total += document.getElementById("users").value * document.getElementById("websecurity").checked * websecuritypremium * Number(document.getElementById("websecuritypremiumradio").checked);


//################

        mailsecurityessentialdata= document.getElementById("users").value * document.getElementById("mailsecurity").checked * mailsecurityessential * Number(document.getElementById("mailsecurityessentialradio").checked);
        total += document.getElementById("users").value * document.getElementById("mailsecurity").checked * mailsecurityessential * Number(document.getElementById("mailsecurityessentialradio").checked);

        mailsecuritypremiumdata= document.getElementById("users").value * document.getElementById("mailsecurity").checked * mailsecuritypremium * Number(document.getElementById("mailsecuritypremiumradio").checked);

        total += document.getElementById("users").value * document.getElementById("mailsecurity").checked * mailsecuritypremium * Number(document.getElementById("mailsecuritypremiumradio").checked);


//################

        firewallsmalldata= firewallsmall*Number(document.getElementById("firewallsmallradio").checked)*(document.getElementById("users").value * (1-Number(document.getElementById("firewallshared").checked))+Number(document.getElementById("firewallshared").checked)*Number(document.getElementById("firewall").checked));

        firewallmediumdata= firewallmedium*Number(document.getElementById("firewallmediumradio").checked)*(document.getElementById("users").value * (1-Number(document.getElementById("firewallshared").checked))+Number(document.getElementById("firewallshared").checked)*Number(document.getElementById("firewall").checked));

        firewalllargedata= firewalllarge*Number(document.getElementById("firewalllargeradio").checked)*(document.getElementById("users").value * (1-Number(document.getElementById("firewallshared").checked))+Number(document.getElementById("firewallshared").checked)*Number(document.getElementById("firewall").checked));

        total += (firewallsmall*Number(document.getElementById("firewallsmallradio").checked)+firewallmedium*Number(document.getElementById("firewallmediumradio").checked)+firewalllarge*Number(document.getElementById("firewalllargeradio").checked))*(document.getElementById("users").value * (1-Number(document.getElementById("firewallshared").checked))+Number(document.getElementById("firewallshared").checked)*Number(document.getElementById("firewall").checked));


//################

        ngfirewalldata= ngfirewall*(document.getElementById("users").value * (1-Number(document.getElementById("ngfirewallshared").checked)) + Number(document.getElementById("ngfirewall").checked) * Number(document.getElementById("ngfirewallshared").checked));

        total += ngfirewall*(document.getElementById("users").value * (1-Number(document.getElementById("ngfirewallshared").checked)) + Number(document.getElementById("ngfirewall").checked) * Number(document.getElementById("ngfirewallshared").checked));


//################

        routerbronzedata = (routeripbase* Number(document.getElementById("routeripbaseradio").checked))*(document.getElementById("users").value * (1-Number(document.getElementById("routershared").checked))+Number(document.getElementById("routershared").checked)*document.getElementById("router").checked);

        routersilverdata = (routerdatacenter* Number(document.getElementById("routerdatacenterradio").checked))*(document.getElementById("users").value * (1-Number(document.getElementById("routershared").checked))+Number(document.getElementById("routershared").checked)*document.getElementById("router").checked);

        routergolddata = (routersecurity* Number(document.getElementById("routersecurityradio").checked))*(document.getElementById("users").value * (1-Number(document.getElementById("routershared").checked))+Number(document.getElementById("routershared").checked)*document.getElementById("router").checked);

        routerplatinumdata = (routerall* Number(document.getElementById("routerallradio").checked))*(document.getElementById("users").value * (1-Number(document.getElementById("routershared").checked))+Number(document.getElementById("routershared").checked)*document.getElementById("router").checked);

        total += (routeripbase* Number(document.getElementById("routeripbaseradio").checked)+routerdatacenter* Number(document.getElementById("routerdatacenterradio").checked)+routersecurity* Number(document.getElementById("routersecurityradio").checked)+routerall* Number(document.getElementById("routerallradio").checked))*(document.getElementById("users").value * (1-Number(document.getElementById("routershared").checked))+Number(document.getElementById("routershared").checked)*document.getElementById("router").checked);


//################

        amppublicdata=(ampcloud * Number(document.getElementById("amppublicradio").checked))*(document.getElementById("users").value * (1-Number(document.getElementById("ampshared").checked))+Number(document.getElementById("ampshared").checked)*Number(document.getElementById("amp").checked));

        ampprivatedata=(ampcloud * Number(document.getElementById("ampprivateradio").checked))*(document.getElementById("users").value * (1-Number(document.getElementById("ampshared").checked))+Number(document.getElementById("ampshared").checked)*Number(document.getElementById("amp").checked));

        ampprivateairgapdata=(ampcloud * Number(document.getElementById("ampprivateairgapradio").checked))*(document.getElementById("users").value * (1-Number(document.getElementById("ampshared").checked))+Number(document.getElementById("ampshared").checked)*Number(document.getElementById("amp").checked));

        total +=(ampcloud * Number(document.getElementById("amppublicradio").checked)+ampcloud * Number(document.getElementById("ampprivateradio").checked)+ampcloud * Number(document.getElementById("ampprivateairgapradio").checked))*(document.getElementById("users").value * (1-Number(document.getElementById("ampshared").checked))+Number(document.getElementById("ampshared").checked)*Number(document.getElementById("amp").checked));

//#################

        tgpublicdata= (tg*Number(document.getElementById("tgpublicradio").checked))*(document.getElementById("users").value * (1-Number(document.getElementById("tgshared").checked))+Number(document.getElementById("tgshared").checked)*Number(document.getElementById("tg").checked));

        tgprivatedata= (tg*Number(document.getElementById("tgprivateradio").checked))*(document.getElementById("users").value * (1-Number(document.getElementById("tgshared").checked))+Number(document.getElementById("tgshared").checked)*Number(document.getElementById("tg").checked));

        total += (tg*Number(document.getElementById("tgpublicradio").checked)+tg*Number(document.getElementById("tgprivateradio").checked))*(document.getElementById("users").value * (1-Number(document.getElementById("tgshared").checked))+Number(document.getElementById("tgshared").checked)*Number(document.getElementById("tg").checked));


//#################

document.getElementById("total").value = parseInt((total*(1-document.getElementById("discount").value/100)));

priceperuserperyear = Number(((total*(1-document.getElementById("discount").value/100))/document.getElementById("users").value).toFixed(2));

document.getElementById("priceperuserperyear").value = priceperuserperyear;

priceperuserpermonth = Number(((total*(1-document.getElementById("discount").value/100))/document.getElementById("users").value/12).toFixed(2));

document.getElementById("priceperuserpermonth").value = priceperuserpermonth;


//#################

       	var al1=0;
	var id1 = setInterval(frame1,10);
        function frame1() {
       		var cnv1 = document.getElementById('mycanvas1');
                var ctx1 = cnv1.getContext('2d');
                var cw1 = ctx1.canvas.width;
                var ch1 = ctx1.canvas.height;
                var start1 = 4.72;
                diff1 = ((al1 / 100) * Math.PI*2*10).toFixed(2);
                ctx1.clearRect(0, 0, cw1, ch1);
                ctx1.lineWidth = 7;
                ctx1.fillStyle = '#09F';
                ctx1.strokeStyle = '#09F';
                ctx1.font="14px bebas"
                ctx1.textAlign = 'center';
                ctx1.fillText(priceperuserpermonth +'$', cw1*.5, ch1*.5+2, cw1);
                ctx1.fillText('per user per month', cw1/2+2, ch1/2+14, cw1/2);
                ctx1.beginPath();
                ctx1.arc(cw1*.5,ch1*.5,60,start1,diff1/10+start1,false);
                ctx1.stroke();
                if (al1 >= priceperuserpermonth) {
                	clearInterval(id1);
                } else {
                        al1++;
                }
        }

//#################


var datanames = ['ipsec vpn','ssl vpn','opendns','wsa-essential','wsa-premium','esa-essential','esa-premium','fw-Small','fw-Medium','fw-Large','r-bronze', 'r-silver','r-gold','r-platinum','ngfw','amp-pub','amp-priv','amppriv-airgap','tg-pub', 'tg-priv'];

var myColor = ['#50B432','#ED561B','#DDDF00','#24CBE5','#64E572','#FF9655','#FFF263','#6AF9C4', '#F0F8FF', '#FAEBD7', '#00FFFF', '#7FFFD4', '#F0FFFF', '#F5F5DC', '#FFE4C4', '#1E90FF', '#9ACD32', '#FFFF00', '#F5F5F5', '#FFFFFF'];
	
var data = [vpnclientdata*Number(document.getElementById("vpn").checked),clientlessvpndata*Number(document.getElementById("vpn").checked),opendnsdata*Number(document.getElementById("opendns").checked),websecurityessentialdata*Number(document.getElementById("websecurity").checked),websecuritypremiumdata*Number(document.getElementById("websecurity").checked),mailsecurityessentialdata*Number(document.getElementById("mailsecurity").checked),mailsecuritypremiumdata*Number(document.getElementById("mailsecurity").checked),firewallsmalldata*Number(document.getElementById("firewall").checked),firewallmediumdata*Number(document.getElementById("firewall").checked),firewalllargedata*Number(document.getElementById("firewall").checked),routerbronzedata*Number(document.getElementById("router").checked), routersilverdata*Number(document.getElementById("router").checked),routergolddata*Number(document.getElementById("router").checked),routerplatinumdata*Number(document.getElementById("router").checked),ngfirewalldata*Number(document.getElementById("ngfirewall").checked),amppublicdata*Number(document.getElementById("amp").checked), ampprivatedata*Number(document.getElementById("amp").checked),ampprivateairgapdata*Number(document.getElementById("amp").checked),tgpublicdata*Number(document.getElementById("tg").checked), tgprivatedata*Number(document.getElementById("tg").checked)];

//#################

	//piechart http://jsfiddle.net/hvYkM/1/
	//https://www.w3schools.com/tags/ref_colornames.asp

	var canvas = document.getElementById("can");
	var ctx = canvas.getContext("2d");
	ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
	var lastend = 0;
	var myTotal = 0;

	for(var e = 0; e < data.length; e++)
		{
			  myTotal += data[e];
		}

	for (var i = 0; i < data.length; i++) {
		ctx.fillStyle = myColor[i];
		ctx.beginPath();
		ctx.moveTo(canvas.width/2,canvas.height/2);
		ctx.arc(canvas.width/2,canvas.height/2,canvas.height/3,lastend,lastend+(Math.PI*2*(data[i]/myTotal)),false);
                ctx.lineTo(canvas.width/2,canvas.height/2);
                ctx.fill();
		
                ctx.fillStyle = "white";
                ctx.beginPath();
                ctx.moveTo(canvas.width/2,canvas.height/2);
                ctx.arc(canvas.width/2,canvas.height/2,canvas.height/5,lastend,lastend+(Math.PI*2*(data[i]/myTotal)),false);

		ctx.lineTo(canvas.width/2,canvas.height/2);
		ctx.fill();


                var radius = canvas.height/2/1.5; //use suitable radius
                var endAngle = lastend + (Math.PI*(data[i]/myTotal));
                var setX = canvas.width/2 + Math.cos(endAngle) * radius;
                var setY = canvas.height/2 + Math.sin(endAngle) * radius;
                ctx.fillStyle = "#000000";
                ctx.font = '10px Calibri';
                if (data[i]==0) {
		
		} else {	
			ctx.fillText(Number(100*data[i]/myTotal).toFixed(0)+"%"+datanames[i],setX,setY);
			console.log(Number(100*data[i]/myTotal).toFixed(0));
		}

                ctx.fillStyle = '#09F';
                ctx.font="10px bebas"
                ctx.fillText('$'+ Number(myTotal*(1-document.getElementById("discount").value/100)/1000).toFixed(1)+'k', canvas.width/2-9, canvas.height/2+4, canvas.width/2);
  
		lastend += Math.PI*2*(data[i]/myTotal);
	}
}


//http://thenewcode.com/757/Playing-With-The-HTML5-range-Slider-Input
function sliderOutputUpdateForDiscount(vol) {
        document.querySelector('#volumefordiscount').value = vol + "%";
        calculate();
}

//http://thenewcode.com/757/Playing-With-The-HTML5-range-Slider-Input
function sliderOutputUpdateForUsers(vol) {
        document.querySelector('#volumeforusers').value = vol + "users";
        calculate();
}

function deleteRow(row)
{
    var i=row.parentNode.parentNode.rowIndex;
    document.getElementById('table').deleteRow(i);
}

function insRow()
{
    var x=document.getElementById('table');
    var row = x.insertRow(-1);
        for (i=0; i< x.rows[0].cells.length;i++) {
                var cell = row.insertCell(i);
                if (i == 0) {
                        cell.innerHTML="<input type='button' value='Delete Row' onclick='deleteRow(this)'/>";
                } else if (i== (x.rows[0].cells.length-1)) {
                        cell.innerHTML='<select><option value="me1200">ME 1200</option><option value="rv340">RV 340</option><option value="isr881">ISR881W</option><option value="isr892">ISR 892</option><option value="isr2921">ISR 1941</option><option value="isr3925">ISR 3925E</option><option value="isr4321">ISR 4321</option><option value="isr4331">ISR4331</option><option value="isr4351">ISR4351</option><option value="isr4431">ISR4431</option><option value="isr4451">ISR4451</option><option value="asr1001">ASR1001X</option><option value="asr1002">ASR1002X</option></select>';
                } else {
                        cell.innerHTML="<input size=25 type='text' value='"+i+"'>";
                }
        }
}

calculate();

</script>
